# üöÄ Quick Setup: Real Email Sending (5 Minutes)

This guide shows you how to send **actual emails** using Resend (easiest and free).

---

## Step 1: Get Resend API Key (2 minutes)

1. Go to: https://resend.com
2. Sign up (free)
3. Verify your email
4. Go to: https://resend.com/api-keys
5. Click "Create API Key"
6. Copy the API key (starts with `re_`)

**Free Tier:**
- 100 emails/day
- 3,000 emails/month
- Perfect for demos!

---

## Step 2: Create .env.local (30 seconds)

Create a file called `.env.local` in your project root:

```bash
# Email API (using Resend)
RESEND_API_KEY=re_your_key_here

# Optional: For full demo
PERPLEXITY_API_KEY=your_key_here
HYPERSPELL_API_KEY=your_key_here
```

---

## Step 3: Install Resend SDK (30 seconds)

```bash
cd /Users/ardangiordjie/Downloads/contrast-main
pnpm add resend
```

---

## Step 4: Update Email API Route (2 minutes)

Replace the contents of `/app/api/send-live-email/route.ts`:

```typescript
import { NextRequest, NextResponse } from "next/server"
import { Resend } from "resend"

const resend = new Resend(process.env.RESEND_API_KEY)

export async function POST(request: NextRequest) {
  const startTime = Date.now()

  try {
    const { email, name } = await request.json()

    if (!email || !name) {
      return NextResponse.json({ error: "Email and name are required" }, { status: 400 })
    }

    // REAL EMAIL SENDING with Resend
    const { data, error } = await resend.emails.send({
      from: "Contrast Demo <onboarding@resend.dev>", // Use your verified domain later
      to: [email],
      subject: `Photography Quote for ${name}`,
      html: `
        <div style="font-family: system-ui, sans-serif; max-width: 600px; margin: 0 auto;">
          <h2>Hi ${name}!</h2>
          
          <p>Thanks for your interest in our photography services. This is a <strong>real email</strong> sent by our AI agent during a live demo!</p>
          
          <h3>Proposed Package:</h3>
          <ul>
            <li>2-hour professional photoshoot</li>
            <li>Multiple outfit changes</li>
            <li>Various locations</li>
            <li>50+ edited high-resolution photos</li>
            <li>Online gallery for easy sharing</li>
          </ul>
          
          <p><strong>Investment:</strong> $450</p>
          
          <p>Available dates: April 15th and 18th</p>
          
          <hr style="margin: 30px 0; border: none; border-top: 1px solid #eee;">
          
          <p style="color: #666; font-size: 14px;">
            <strong>Demo Note:</strong> This email was automatically generated by our AI agent system 
            as proof of real-time integration. Pretty cool, right? üéØ
          </p>
          
          <p style="color: #666; font-size: 14px;">
            Sent via Contrast - AI Photography Coordinator
          </p>
        </div>
      `,
    })

    if (error) {
      console.error("[Resend] Error:", error)
      return NextResponse.json(
        {
          success: false,
          duration: Date.now() - startTime,
          error: error.message,
        },
        { status: 500 },
      )
    }

    const duration = Date.now() - startTime

    console.log(`[Resend] Email sent to ${email} in ${duration}ms - ID: ${data?.id}`)

    return NextResponse.json({
      success: true,
      duration,
      message: "Email sent successfully",
      details: {
        to: email,
        subject: `Photography Quote for ${name}`,
        timestamp: new Date().toISOString(),
        service: "Resend",
        emailId: data?.id,
      },
    })
  } catch (error) {
    const duration = Date.now() - startTime
    console.error("[Resend] Error:", error)

    return NextResponse.json(
      {
        success: false,
        duration,
        error: "Failed to send email",
      },
      { status: 500 },
    )
  }
}
```

---

## Step 5: Test It! (1 minute)

1. Restart your dev server:
```bash
pnpm dev
```

2. Go to: http://localhost:3000

3. Click "Show Proof Panel"

4. Enter your real email in the "Send It to Me Right Now" form

5. Click "Send Me a Quote Now"

6. **Check your inbox!** üìß

---

## ‚úÖ Success!

You should receive an actual email in ~5 seconds.

This is now a **real API integration** that judges can verify by:
1. Checking their own inbox
2. Seeing the DevTools network request
3. Viewing the API Activity Log with real response times

---

## üéØ For Production

### Use Your Own Domain

1. Add your domain in Resend dashboard
2. Add DNS records they provide
3. Change the "from" address:
   ```typescript
   from: "Your Name <hello@yourdomain.com>"
   ```

### Improve the Email Template

- Add your logo
- Better styling
- Include portfolio images
- Add booking link

---

## üí° Alternative Email Services

### If you prefer SendGrid:

```bash
pnpm add @sendgrid/mail
```

```typescript
import sgMail from "@sendgrid/mail"
sgMail.setApiKey(process.env.SENDGRID_API_KEY!)

await sgMail.send({
  to: email,
  from: "your-verified-email@domain.com",
  subject: `Photography Quote for ${name}`,
  html: "...",
})
```

### If you prefer Mailgun:

```bash
pnpm add mailgun.js form-data
```

---

## üêõ Troubleshooting

### "Unauthorized" Error
- Check your API key is correct in `.env.local`
- Make sure you copied the full key (starts with `re_`)
- Restart dev server after adding `.env.local`

### Email Goes to Spam
- Normal for first few emails
- Check spam folder
- In production, use verified domain

### "From address not verified"
- Use `onboarding@resend.dev` for testing
- Or verify your domain in Resend dashboard

---

**You're now sending REAL emails! üéâ**

Judges will be impressed when they check their phone and see your email.

